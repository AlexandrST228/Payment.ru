<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—é–¥–∂–µ—Ç–∞</title>
</head>
<body>
    <div class="container">
        <h1>üí∞ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –±—é–¥–∂–µ—Ç–∞</h1>
        <p class="subtitle">–£–∑–Ω–∞–π—Ç–µ, —Å–∫–æ–ª—å–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ —Ç—Ä–∞—Ç–∏—Ç—å –Ω–∞ –µ–¥—É, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –¥—Ä—É–≥–∏–µ –Ω—É–∂–¥—ã, —á—Ç–æ–±—ã –Ω–∞–∫–æ–ø–∏—Ç—å –Ω–∞ –æ—Ç–ø—É—Å–∫.</p>

        <form id="budgetForm">
            <label>–ó–∞—Ä–ø–ª–∞—Ç–∞ (‚ÇΩ):</label>
            <input type="number" id="salary" value="50000" required>

            <label>–ê—Ä–µ–Ω–¥–∞ (‚ÇΩ):</label>
            <input type="number" id="rent" value="15000" required>

            <label>–ö—Ä–µ–¥–∏—Ç (‚ÇΩ):</label>
            <input type="number" id="loan" value="4400" required>

            <label>–ö–æ–º–º—É–Ω–∞–ª–∫–∞ (‚ÇΩ):</label>
            <input type="number" id="utilities" value="2000" required>

            <label>–ò–Ω—Ç–µ—Ä–Ω–µ—Ç/—Å–≤—è–∑—å (‚ÇΩ):</label>
            <input type="number" id="internet" value="300" required>

            <label>–¶–µ–ª—å (‚ÇΩ):</label>
            <input type="number" id="savingsGoal" value="55000" required>

            <label>–°—Ä–æ–∫ (–º–µ—Å):</label>
            <input type="number" id="months" value="3" min="1" required>
        </form>

        <button onclick="calculateBudget()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±—é–¥–∂–µ—Ç</button>

        <div id="result"></div>

        <div class="footer">
            ¬© <script>document.write(new Date().getFullYear())</script> –ë—é–¥–∂–µ—Ç-–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ | –ú–µ—á—Ç–∞–π –æ –º–æ—Ä–µ üå¥
        </div>
    </div>

    <script>
        function calculateBudget() {
            // –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            const salary = parseFloat(document.getElementById('salary').value);
            const rent = parseFloat(document.getElementById('rent').value);
            const loan = parseFloat(document.getElementById('loan').value);
            const utilities = parseFloat(document.getElementById('utilities').value);
            const internet = parseFloat(document.getElementById('internet').value);
            const savingsGoal = parseFloat(document.getElementById('savingsGoal').value);
            const months = parseInt(document.getElementById('months').value);

            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '';

            // –ü—Ä–æ–≤–µ—Ä–∫–∞
            if (salary <= 0 || months <= 0) {
                resultDiv.innerHTML = `<div class="error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è.</div>`;
                return;
            }

            const fixedExpenses = rent + loan + utilities + internet;
            if (fixedExpenses >= salary) {
                resultDiv.innerHTML = `<div class="error">–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã –ø—Ä–µ–≤—ã—à–∞—é—Ç –¥–æ—Ö–æ–¥. –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å.</div>`;
                return;
            }

            const requiredMonthlySavings = savingsGoal / months;
            const availableForLiving = salary - fixedExpenses - requiredMonthlySavings;

            if (availableForLiving < 0) {
                const deficit = Math.abs(availableForLiving).toFixed(0);
                resultDiv.innerHTML = `<div class="error">–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–∫–æ–ø–∏—Ç—å ${savingsGoal.toLocaleString()} ‚ÇΩ –∑–∞ ${months} –º–µ—Å. –ù—É–∂–Ω–æ –µ—â—ë ${deficit} ‚ÇΩ –≤ –º–µ—Å—è—Ü.</div>`;
                return;
            }

            // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –æ—Å—Ç–∞–≤—à–µ–µ—Å—è
            const limits = {
                food: availableForLiving * 0.5,
                transport: availableForLiving * 0.2,
                personal: availableForLiving * 0.15,
                misc: availableForLiving * 0.15
            };

            let resultHTML = `
                <div class="result">
                    <h2>‚úÖ –¶–µ–ª—å –¥–æ—Å—Ç–∏–∂–∏–º–∞!</h2>
                    <p>–í—ã –º–æ–∂–µ—Ç–µ —Ç—Ä–∞—Ç–∏—Ç—å –≤ –º–µ—Å—è—Ü –Ω–∞:</p>
                    <div class="limits">
                        <div class="limit-item">
                            –ï–¥–∞
                            <span class="amount">${limits.food.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, " ")} ‚ÇΩ</span>
                        </div>
                        <div class="limit-item">
                            –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç
                            <span class="amount">${limits.transport.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, " ")} ‚ÇΩ</span>
                        </div>
                        <div class="limit-item">
                            –õ–∏—á–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã
                            <span class="amount">${limits.personal.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, " ")} ‚ÇΩ</span>
                        </div>
                        <div class="limit-item">
                            –†–∞–∑–≤–ª–µ—á–µ–Ω–∏—è
                            <span class="amount">${limits.misc.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, " ")} ‚ÇΩ</span>
                        </div>
                    </div>
                    <p><strong>–í—Å–µ–≥–æ –Ω–∞ "–∂–∏–∑–Ω—å":</strong> ${availableForLiving.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, " ")} ‚ÇΩ</p>
                </div>
            `;

            resultDiv.innerHTML = resultHTML;
        }
    </script>
</body>
</html>
